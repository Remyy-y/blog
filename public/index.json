[{"content":"","date":"19 March 2024","externalUrl":null,"permalink":"/tags/hugo/","section":"Tags","summary":"","title":"Hugo"},{"content":"","date":"19 March 2024","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts"},{"content":"","date":"19 March 2024","externalUrl":null,"permalink":"/","section":"Remyy","summary":"","title":"Remyy"},{"content":"","date":"19 March 2024","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"\r云服务器同步git仓库 #\r本地使用hugo写文章，本来打算进行托管，但是发现托管平台不是被阻断了，就是国内速度很慢，所以推荐国内云服务器\n云服务器clone仓库 #\r自行更换网站的位置 #\rcd /opt/1panel/apps/openresty/openresty/www/sites/blog.remyy.cn rm -rf index # 警告：这将删除当前的index目录及其内容，请先备份任何重要数据 git clone \u0026lt;仓库URL\u0026gt; index 云服务器安装监听 #\r使用Node.js的Express框架创建一个监听GitHub Webhooks的服务\n安装Node.js和Express #\r前提本地已经安装了node.js\nnpm init -y # 初始化一个新的Node.js项目（如果你还没有package.json文件） npm install express --save # 安装Express 创建Express应用 #\rvi **server.js** 粘贴下面代码，并保存\nconst express = require(\u0026#39;express\u0026#39;); const bodyParser = require(\u0026#39;body-parser\u0026#39;); const exec = require(\u0026#39;child_process\u0026#39;).exec; // Used for executing shell commands const app = express(); const port = 3000; // The port on which the server will listen app.use(bodyParser.json()); // Parses JSON-formatted request bodies app.post(\u0026#39;/webhook\u0026#39;, (req, res) =\u0026gt; { // Here, you can add security validation logic, such as verifying GitHub\u0026#39;s signature console.log(\u0026#39;Webhook received!\u0026#39;); // Executes the git pull command to update the code exec(\u0026#39;git pull\u0026#39;, {cwd: \u0026#39;/opt/1panel/apps/openresty/openresty/www/sites/blog.remyy.cn/index\u0026#39;}, (error, stdout, stderr) =\u0026gt; { if (error) { console.error(`exec error: ${error}`); return; } console.log(`stdout: ${stdout}`); console.error(`stderr: ${stderr}`); }); res.status(200).send(\u0026#39;Received\u0026#39;); }); app.listen(port, \u0026#39;0.0.0.0\u0026#39;, () =\u0026gt; { console.log(`Server is running on http://localhost:${port}`); }); 自行替换路径/opt/1panel/apps/openresty/openresty/www/sites/blog.remyy.cn/index\n运行Express应用 #\rnode server.js #如果正常启动，ctrl+c退出后 nohup node server.js \u0026gt; output.log 2\u0026gt;\u0026amp;1 \u0026amp; #后台运行 Git仓库配置 #\r进入仓库，点击设置，打开Webhooks\n按照下图编辑即可\n本地Git配置 #\r本地推送到git仓库\n初始化Git仓库 #\r首先，在你的项目目录中初始化一个Git仓库。打开终端，切换到你的项目目录，然后运行\ncd /path/to/your/project 切换你的本地blog目录 git init git remote add origin https://github.com/your-username/my-hugo-site.git 确保将**https://github.com/your-username/my-hugo-site.git**替换为你的实际仓库URL。\n.gitignore文件 #\r因为我是在本地构建博客，所以我只需要远程推送生成public文件夹即可\n# 忽略所有文件 * # 但不要忽略.gitignore和public目录 !.gitignore !/public 添加文件到Git仓库 #\r运行命令选择public文件夹\ngit add . 提交这些更改\ngit commit -m \u0026#34;Initial commit\u0026#34; 远程推送\ngit push -u origin **master** 注意，如果你的默认分支名称不是**master，你可能需要将master替换为正确的分支名称，如main**\n","date":"19 March 2024","externalUrl":null,"permalink":"/posts/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9C%E7%A8%8B%E5%90%8C%E6%AD%A5git/","section":"Posts","summary":"本地写博客，远程推送到git仓库，并通过云服务器远程同步git仓库进行部署博客","title":"云服务同步git"},{"content":"\rA sub-title #\rLorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nibh nisl, vulputate eu lacus vitae, maximus molestie libero. Vestibulum laoreet, odio et sollicitudin sollicitudin, quam ligula tempus urna, sed sagittis eros eros ac felis. In tristique tortor vitae lacinia commodo. Mauris venenatis ultrices purus nec fermentum. Nunc sit amet aliquet metus. Morbi nisl felis, gravida ac consequat vitae, blandit eu libero. Curabitur porta est in dui elementum porttitor. Maecenas fermentum, tortor ac feugiat fringilla, orci sem sagittis massa, a congue risus ipsum vel massa. Aliquam sit amet nunc vulputate, facilisis neque in, faucibus nisl.\n","date":"16 August 2023","externalUrl":null,"permalink":"/posts/mythirdpost/","section":"Posts","summary":"This is my third post on my site","title":"My third post"},{"content":"","date":"16 August 2023","externalUrl":null,"permalink":"/tags/space/","section":"Tags","summary":"","title":"Space"},{"content":"\rA sub-title #\rLorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nibh nisl, vulputate eu lacus vitae, maximus molestie libero. Vestibulum laoreet, odio et sollicitudin sollicitudin, quam ligula tempus urna, sed sagittis eros eros ac felis. In tristique tortor vitae lacinia commodo. Mauris venenatis ultrices purus nec fermentum. Nunc sit amet aliquet metus. Morbi nisl felis, gravida ac consequat vitae, blandit eu libero. Curabitur porta est in dui elementum porttitor. Maecenas fermentum, tortor ac feugiat fringilla, orci sem sagittis massa, a congue risus ipsum vel massa. Aliquam sit amet nunc vulputate, facilisis neque in, faucibus nisl.\n","date":"15 August 2023","externalUrl":null,"permalink":"/posts/mysecondpost/","section":"Posts","summary":"This is my second post on my site","title":"My second post"},{"content":"\rA sub-title #\rLorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nibh nisl, vulputate eu lacus vitae, maximus molestie libero. Vestibulum laoreet, odio et sollicitudin sollicitudin, quam ligula tempus urna, sed sagittis eros eros ac felis. In tristique tortor vitae lacinia commodo. Mauris venenatis ultrices purus nec fermentum. Nunc sit amet aliquet metus. Morbi nisl felis, gravida ac consequat vitae, blandit eu libero. Curabitur porta est in dui elementum porttitor. Maecenas fermentum, tortor ac feugiat fringilla, orci sem sagittis massa, a congue risus ipsum vel massa. Aliquam sit amet nunc vulputate, facilisis neque in, faucibus nisl.\n","date":"14 August 2023","externalUrl":null,"permalink":"/posts/myfirstpost/","section":"Posts","summary":"This is my first post on my site","title":"My first post"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"","date":"1 January 0001","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series"}]